<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../components/facet-selector/facet-selector.html">


<polymer-element name="facet-list">
  <template>
    <template repeat="{{facet in facets}}">
      <facet-selector facet="{{facet.facet}}" values="{{facet.values}}"
                      on-facet-value="{{onFacetValue}}">
      </facet-selector>
    </template>
  </template>
  <script>
   Polymer({
     publish: { facets: [] },
     selectors: function() {
       return this.shadowRoot.querySelectorAll('facet-selector');
     },
     getFilterValues: function() {
       var results = [];
       var selectors = this.selectors();
       for (var i = 0; i < selectors.length; i++) {
         var selector = selectors[i];
         var filters = selector.filterValues();
         results = results.concat(filters);
       }
       return results;
     },
     onFacetValue: function(e) {
       console.log("onFacetValue(", e, ")");
     },
   });
  </script>
</polymer-element>
        
